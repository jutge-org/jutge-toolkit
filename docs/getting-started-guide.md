# Jutge Toolkit - Getting Started Guide

Welcome to the New Jutge Toolkit! This guide will help you start using the toolkit to create, manage, and upload programming problems to Jutge.org. Information about problem formats will be provided in a separate document.

## What is Jutge Toolkit?

Jutge Toolkit is a command-line application that helps you create and manage programming problems for the Jutge.org platform. It provides tools to:

- Create new problems from scratch or using templates
- Generate problem elements using AI (JutgeAI)
- Compile and test solutions in multiple programming languages
- Generate PDF statements and other formats
- Upload problems to Jutge.org

## Installation

For installation instructions, please refer to the guide for your operating system:

- [Linux Installation Guide](link-to-linux-guide)
- [macOS Installation Guide](link-to-macos-guide)
- [Windows Installation Guide](link-to-windows-guide)

## Getting Started

### Getting Help

Before we dive into configuration, it's important to know how to get help:

1. **View general help:**

    ```bash
    jtk --help
    ```

    This shows all available commands.

2. **Get help for a specific command:**

    ```bash
    jtk make --help
    jtk generate --help
    jtk config --help
    ```

    Add `--help` to any command to see detailed information about its options and usage.

3. **Get help using JutgeAI:**

    You can ask questions about the toolkit in human language using the `ask` command and get answers generated by JutgeAI and formatted in markdown:

    ```bash
    jtk ask "How to create a new problem?"
    jtk ask "Com puc crear un problema nou?" --model "openai/gpt-5-nano"
    ```

    For this to work, you need to have set up an AI API key (see your platform-specific installation guide).

4. **View information about the toolkit:**

    ```bash
    jtk about
    ```

### Configuration

Before using the toolkit, you should configure it with your preferences:

1. **View current configuration:**

    ```bash
    jtk config show
    ```

2. **Set a configuration value:**

    ```bash
    jtk config set defaultModel "google/gemini-2.5-flash"
    ```

3. **Edit configuration interactively:**

    ```bash
    jtk config edit
    ```

    This opens your default text editor with the configuration file.

### Your First Problem

#### Option 1: Create from Template

1. **Clone a template:**

    ```bash
    jtk clone
    ```

    This will show you available templates and create a new problem directory under `./new-problem.pbm`.

2. **Or clone a specific template and place it into a particular directory:**

    ```bash
    jtk clone standard/maximum-of-2-integers.pbm -d my-new-problem.pbm
    ```

#### Option 2: Create with AI

1. **Create a problem using JutgeAI:**

    ```bash
    jtk generate problem
    ```

    The toolkit will ask you for:
    - Problem title
    - Problem description
    - Original language
    - Programming language for the solution

    Be specific about the problem description. Here is a possible example:

    > The task is to read all numbers in the input and print how much of them are prime numbers. Add a cute, short story around it. The input will only contain natural numbers less than 2^32-1.

2. **Review the generated content** in the `my-problem.pbm` directory.

### Building Your Problem

Once you have a problem directory, you can generate all necessary files:

```bash
cd my-problem.pbm
jtk make
```

This command will:

- Compile solutions
- Generate correct outputs for test cases
- Create PDF statements
- Generate HTML, Markdown and Text versions of the statements

To make only specific elements:

```bash
jtk make exe          # Only compile executables
jtk make cor          # Only generate correct outputs
jtk make pdf          # Only PDF statements
jtk make html         # Only HTML statements
```

### Testing Solutions

To verify a solution against your golden solution:

```bash
jtk verify candidate.py
```

This will run the solution against all test cases and compare outputs.

### Generating Additional Content

**Add statement translations:**

```bash
jtk generate translations en es ca
```

**Add solutions in other languages:**

```bash
jtk generate solutions python java cc
```

**Generate test case generators:**

```bash
jtk generate generators --all
```

**Generate award image:**

```bash
jtk generate award.png "A golden trophy on a blue background"
```

**Generate award message:**

```bash
jtk generate award.html
```

### Cleaning Up

Remove temporary and generated files:

```bash
jtk clean              # Dry run (shows what would be deleted)
jtk clean --force      # Actually delete files
jtk clean --all        # Also delete generated statements and correct files
```

### Uploading to Jutge.org

When your problem is ready:

```bash
jtk upload
```

If this is a new problem, it will be created on Jutge.org and a `problem.yml` file will be generated with the problem ID. For subsequent uploads, the problem will be updated. Do not modify `problem.yml`!

### How to log in to Jutge.org

Logging in to Jutge.org is necessary to upload problems to the platform or to use Jutge<sup>AI</sup> features.

You can log in to Jutge.org in any of the following ways:

- Use the `JUTGE_TOKEN` environment variable to directoly log in with a token.
- Use the `JUTGE_EMAIL` and `JUTGE_PASSWORD` environment variables to log in with email and password.
- Use the credentials file of [jutge-cli](https://github.com/jutge-org/jutge-cli) to log in with email and password.

If the toolkit does not find such credentials, it will prompt for an email and password when needed.

## Common Commands Reference

Here's a quick reference of the most commonly used commands:

```bash
jtk --help                          # Show help
jtk --version                       # Show version
jtk upgrade                         # Upgrade to latest version
jtk about                           # Show information about the toolkit

jtk config show                     # Show configuration
jtk config set <key> <value>        # Set configuration value
jtk config edit                     # Edit configuration interactively

jtk clone [template]                # Clone template
jtk generate problem                # Create problem with AI
jtk make                            # Build all problem elements
jtk verify <program>                # Test a solution
jtk upload                          # Upload to Jutge.org
jtk clean                           # Clean temporary files
jtk passcode                        # Manage problem passcode

jtk doctor                          # Check system dependencies
```

## Getting Help

- Use `--help` flag with any command to get detailed information:

    ```bash
    jtk make --help
    jtk generate --help
    ```

- Check the documentation at https://github.com/jutge-org/jutge-toolkit

- Report issues on GitHub

## Tips for Success

1. **Keep the toolkit updated:** Regularly run `jtk upgrade` to get the latest features and fixes.

2. **Start simple:** Begin with a basic problem and gradually explore more features.

3. **Review AI-generated content:** Always review and validate content generated by JutgeAI before using it in production.

4. **Use version control:** Keep your problem directories in a Git repository to track changes.

5. **Check dependencies:** Run `jtk doctor` periodically to ensure all required tools are installed.

6. **Test thoroughly:** Always use `jtk verify` to test solutions before uploading.

## Troubleshooting

**Filenames and directory names:**

- Use lowercase letters, numbers, dashes, and underscores for filenames and directory names.
- Avoid spaces in filenames and directory names.
- Avoid special characters in filenames and directory names.
- Remember that problem directories should have a `.pbm` extension.

**AI features not working:**

- Verify your API keys are set correctly
- Check you have internet connectivity
- Ensure the model name is correct in your configuration

**Problems with specific compilers:**

- Run `jtk doctor` to see which compilers are available
- Install only the compilers you need for your problems

For platform-specific troubleshooting, refer to your installation guide.

**Compatibility issues with previous tools:**

- You may need to convert your files to the new formats. Here are some examples:

    ```bash
    epstopdf file.eps -o file.pdf       # Convert EPS to PDF
    pdf2svg file.pdf file.svg           # Convert PDF to SVG
    fig2dev -L svg file.fig file.svg    # Convert FIG to SVG
    fig2dev -L pdf file.fig file.pdf    # Convert FIG to PDF
    ```

    Or use https://convertio.co to convert between many formats online or ImageMagick to convert between formats locally.

- You may have statements with old `@` behaviour to enclose inline code. You can convert them to the new format using the `jtk convert transform-at-signs` command.

## End

You're now ready to start creating problems with Jutge Toolkit! If you have questions or need help, don't hesitate to consult the documentation, use the `ask` command or reach out to the community.
